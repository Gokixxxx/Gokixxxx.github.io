---
layout: post
title: zroi noip18联测
subtitle: 蔡老板赚大钱
tags: 课
---

以及两天的杂题选讲（

## Day1

杂题选讲。

-----

CF1427E Xum

牛逼题/jy

直接想法是，随$$10^3$$个倍数插入线性基，但是这个好像不太行。

更随的想法是，直接随$$10^5$$次操作插入线性基，这个好像很可以。

简单做法是，考虑每次消去最高位，于是设$$x$$的位数是$$k$$，你就考虑把$$x$$左移$$k-1$$位使得它的最低位和$$x$$的最高位对齐，记为$$t$$，那么$$y=x\operatorname{xor}t$$就消去了$$x$$的最高位。此时我们把这个数以$$x$$的最高位分成两部分，高一半就是$$t-1$$，而低一半是$$x$$除去最高位。

然后我们给$$y$$再加上$$t$$，低一半不变，高一半变成$$2t-1$$。注意到$$2t$$的$$\mathrm{lowbit}$$必然是$$2$$(忽略后面一车$$0$$)，于是这里必然在$$2$$上造成退位，于是它的$$2$$这一位变成$$0$$而$$1$$这一位变成$$1$$。

考虑$$2t$$，我们计算$$(x+2t)\operatorname{xor}(y+t)$$，$$x+2t$$在$$k,k+1$$位上是$$1,1$$，而$$y+t$$是$$1,0$$。我们得到了一个$$2^{k+1}$$，但是本来打算要$$2^k$$来着¿

没有关系，我们可以用这个把$$t$$中$$>k$$位的$$1$$全都干掉，就得到了$$2^k$$。做完了。

惊悚做法是，考虑裴蜀定理。

发现$$x\operatorname{xor}t$$必然和$$x$$互质，因为$$x\operatorname{xor}t+2^k$$是$$x$$的倍数，而$$2^k$$不是。

所以我们exgcd解出一组$$a,b$$使得$$ax+by=1$$，现在问题是$$a,b$$可能有负数，正数直接做就完了。

考虑钦定$$b$$是负的，那么直接给$$b$$取负，问题变成实现减法。注意到$$ax,by$$是相邻的，于是如果是奇数减偶数就可以直接$$\mathrm{xor}$$，如果是偶数减奇数那我们就都加上$$x$$，就变成奇数减偶数了。

-----

CF1340D Nastya and Time Machine

classic/jy

收录于 CF思维题选胡。

-----

CF1442D Sum

classic/jy

收录于 CF再选做。

-----

CF1446C Xor Tree

建立trie，设$$dp(u)$$表示$$u$$子树最多保留几个点。发现只选一棵子树一定是可以的，如果选了两棵子树，那么其中一棵一定只有一个点，超过一个则会自己连自己，两边就不连通了。

-----

CF1439B Graph Subset Problem

classic/jy

收录于 CF思维题选胡。

-----

洛谷P4007 小Y和恐怖的奴隶主

看起来就直接设$$dp(i,a,b,c)$$表示打了$$i$$下，有$$a,b,c$$个$$1,2,3$$血量的随从概率，$$f(i)$$表示打boss次数的期望，转移是线性变换，状态数大概不到$$500$$，矩阵快速幂即可。多测就预处理幂，矩阵乘向量。

实际上据说状态数是$$166$$(包括$$f$$)/jy

-----

HDU6145 Arithmetic of Bomb II

看起来很有儒略日内味。

考虑我们把每个bomb表达式标准化成左闭右开，也就是左边是数字，右边是运算符。

如果一个bomb表达式两边都是符号，那它就完了。如果两边都是数字，我们可以拆出第一段和最后一段，把中间搞成左闭右开。

然后就可以考虑，如果最后一个是加号那就简简单单；如果最后一个是乘号，如果全是乘号那就直接做，否则就把最前和最后一项拼起来，还是特判开头结尾。做完了。

然后听说是矩阵快速幂/jy

考虑一个牛逼做法，我们维护三元组$$a+bc$$，那么加入一个数字和三种符号都是线性变换，做完了。

-----

Gym100543L Outer space invaders

离离原上谱，区间dp。

考虑设$$dp(i,j)$$表示干掉左右端点都在$$[l,r]$$的敌人的最小代价，那么最远的那个一定要为它开一炮，于是我们可以枚举什么时刻把它干了，就分成两段了。

这还是一个扫描线方向的问题，这个做法就是按距离从上到下扫描线。所以还是不要一上来就咬定自己的扫描线方向。

-----

Gym101480E Export Estimate

扫描线。

注意到所有二度点都会被删掉，会减少一条边。

然后考虑自环不会被删。

并查集维护即可。

-----

Gym101620J Justified Jungle

$$k+1$$必然是$$n$$的因数，所以就枚举一个大力模拟即可。

然后你发现砍了一个点的父边，当且仅当它的子树大小是$$\frac{n}{k+1}$$的倍数，于是做完了。想不到吧，狄利克雷前缀和一下，这是$$O(n\log\log n)$$的/jy

------

Gym101620L Lunar Landscape

垂直于屏幕向外扫描线（

坐标极小，我们直接算每个格子被覆盖多少次(斜边上是0.5次)，两类分别差分-前缀和即可。

哦注意到斜边有四类，所以我们需要给每一类斜边都开一个差分-前缀和，所以是六个/jy

-----

AGC052B Tree Edges XOR

随便找一个点作为根，求一个树上前缀和，那么边权就变成了点权的$$\mathrm{xor}$$。

考虑此时一个操作的效果，发现它就是交换端点的点权。

所以我们直接判断两个集合是否相等，然后就wa飞了。

考虑这个找一个根，相当于钦定了一个点点权是$$0$$，但是后面这个点权可能换走了。所以我们需要枚举那个点权换到哪里去了，或者枚举它可能还被钦定成了什么(这个数一定可以是某个$$d$$)，这就$$n^2$$了。

注意到$$n$$是奇数，所以我们给所有数都$$\mathrm{xor}$$上全局$$\mathrm{xor}$$和，就相当于把它们标准化了，判断是否同构即可。

另一个直接且爆力的想法是，我们直接找到一组点权$$f$$，使得一条边的权值是端点权值的$$\mathrm{xor}$$。为了保证唯一性，由于$$n$$是奇数，我们可以限制总$$\mathrm{xor}$$和是$$0$$。直接分配，然后给每个数$$\mathrm{xor}$$上总$$\mathrm{xor}$$和，判断是否同构即可。

-----

COCI2018-2019 TENIS

有三项属性，一个人可能打败另一个人当且仅当有一维排名更靠前，现在要进行淘汰赛，你每次可以选两个人比赛，支持交换两个人的排名，查询一个人是否可能登顶。$$n,q\leq 10^5$$。

考虑每个人在每个维度上向他可以打败的人连边，然后得到三个竞赛图，缩SCC之后还是形成一条链，第一个SCC就是可能赢的人。问题变成找第一个SCC，这等价于找第一个前缀使得三个排列中这个前缀都是SCC并且重排同构，而你发现一个排列中每个前缀都是SCC，因为这是完全可比并且传递的。所以就是找一个前缀使得三个序列的这个前缀同构。

hash看起来并不可行。

考虑找到每个数第一次出现和最后一次出现，那么这条线就不能被这两次出现跨过，每个数相当于一个区间加，要找第一个$$0$$，线段树即可。

-----

洛谷P5307 COCI2018-2019 Mobitel

离离原上谱。考虑设$$dp(i,j,k)$$表示走到$$i,j$$，再乘一个$$k$$就能超过$$n$$，而$$k$$只有根号种，所以就做完了。

-----

洛谷P7207 COCI2019-2020#3 Sob

¿

考虑法嘛塔优化建图，然后Dinic硬上，有没有可能做完了¿

考虑$$A$$中最大的数$$x$$和哪个匹配，我们爆力找出这个数$$y$$，那么$$x-1,y-1$$也能匹配。然后就做完了。

听起来很奇怪，这是为什么呢?优质解答 : 我不知道

-----

COCI2019-2020 Pastiri

树，有$$k$$个关键点，你要放一些守卫，每个守卫可以守住最近的关键点，如果有多个那么都可以守住，求最少需要多少守卫，构造方案。$$n\leq 5\times 10^5$$。

考虑随便选一个根，然后考虑所有深度最深的关键点，我们一定需要一个守卫去守它，但是它实在是很深所以我们希望这个守卫尽量靠上，所以我们要找到所有能守住这个点的点中最浅的。

然后我们就删掉所有影响了复杂度的点。一开始预处理每个点可以守住哪些关键点，可以多源bfs。

-----

COCI2019-2020 Semafor

有最多两个五段显示器，每个可以显示$$0,...,9$$，接下来你要操作$$n$$次，每$$k$$次之后要求每个显示器显示的都是合法数字，问最后显示出来每个数的方案数。$$n\leq 10^{15}$$。

考虑爆力矩阵快速幂，做完了。

吗?你发现要求每$$k$$个的转移矩阵，复杂度比较高，因为状态数是$$2^{5+5}=1024$$。每$$k$$个之间状态数是$$100$$。

考虑一段之内，两个显示器是独立的，所以我们可以分别算，最后卷起来。这个还是不行。

注意到方案数只跟有多少位变化了有关，所以我们可以直接记录现在需要变$$i$$位的方案数，然后这个也可以矩阵快速幂。这个矩阵大小就只有$$11$$。

-----

AGC043B 123 Triangle

差分还取绝对值，离离原上谱。不过可以注意到这个操作对两个操作数是对称的。

考虑答案只可能是$$0,1,2$$。

考虑如果有$$1$$，那么最后$$1$$会把$$2$$吃掉，于是答案只可能是$$0,1$$。否则，答案就是$$0,2$$。

然后你发现操作变成了$$\mathrm{xor}$$，于是用组合数算出每个数贡献多少次即可。膜$$2$$难以处理逆元，可以使用Lucas定理。

-----

AGC044B Joker

爆力01bfs就是$$n^4$$。如何优化?

不要优化。考虑每个人被算入多少次，那么我们就算他在每个时间走出去的最短路，然后算他到每个人的最短路，还是$$n^4$$。

做法足够厉害。考虑先直接往一个方向冲作为最短路，这样最短路的和是$$O(n^3)$$的，然后用spfa的方法爆力更新，每次更新都会减少总和，所以总次数就是$$O(n^3)$$。

-----

AGC045B 01 Unbalanced

把$$0$$变成$$-1$$，问题变成最小化前缀和的极差。

枚举最大值，然后我们能填$$1$$就填$$1$$，这样会让最小前缀和尽可能小。复杂度是$$O(n^2)$$。

结论是，把所有$$?$$当成$$-1$$，然后求最大前缀和$$s$$，那么只需要检查$$s$$和$$s+1$$。因为有一个$$-1$$变成了$$1$$的话，如果最小前缀和在此之前它不会变，否则它也只能变大$$2$$，因此一定不更优。

-----

AGC045C Range Set

考虑怎么判断一个串是否可行。时间倒流，变成你可以把连续$$a$$个$$0$$或者$$b$$个$$1$$变成任意串。

不妨设$$a>b$$，于是如果有连续$$a$$个$$0$$就一定可行，否则考虑如果有连续$$b$$个$$1$$，那么我们把它全变成$$0$$，然后剩下了连续$$a$$个$$0$$就可行。

考虑dp，设$$dp(i,j,0/1)$$表示填了$$i$$位，换完$$1$$连续段之后最后有连续$$j$$个$$0$$，这一位是$$0/1$$的方案数。

 - 如果在填黑色，我们枚举上一个白色的位置，可以前缀和优化

 - 如果在填白色，我们枚举上一个黑色的位置，还是可以前缀和优化

然后就做完了。复杂度是$$O(n^2)$$。

-----

CF1458C Latin Square

足够厉害。收录于 CF再选做。

-----

CF1361E James and the Chase

看到占比，考虑随机化，我们随$$100$$次，然后判断一个点是不是好点。

考虑如果找到了一个好点，怎么才能找到所有好点。建立dfs树，那么因为根是好点，不可能有横向边，于是好点的子树内只有恰好一条返祖边，并且这条边连向另一个好点。复杂度$$O(kn)$$，$$k$$是常数$$100$$。

哦，考虑怎么找好点，那就是有横向边就不是好点，否则就是好点。

-----

CF1444D Rectangular Polyline

先判掉$$h\neq v$$，然后背包背一个一半。

考虑直接构造，我们已经分成了两半，每一半让横着的从小到大排，竖着的从大到小排，这样就可以尽可能远离了。

容易证明这样做一定不会越过对角线，于是不会在顶点之外的地方相交。

## Day2

挂分王/cy

挂了85/cy

40+25+0+100=165，垫底了。

-----

A

给$$p,(a,b),(c,d)$$，每次可以变成$$(2a,b-a)$$或者$$(a-b,2b)$$然后膜$$p$$，求多少次之后变成$$(c,d)$$。$$T\leq 10^5,a,b,c,d\leq 10^9$$。

打表可以发现系数的规律。设最后变成$$(ax-by,bz-aw)$$，操作了$$k$$次，那么$$x+y=z+w=2^k,x+z=2^k-1,y+w=2^k+1$$，这样就可以消去$$y,z,w$$。直接代入解出$$x,y,z,w$$，然后判断是否合法即可，注意需要满足$$1\leq x\leq 2^k$$。

-----

B

给一个序列，你可以删去不超过$$25$$个数，然后把剩下的数划分成两部分，要求两部分的和相同。$$n,a_i\leq 2\times 10^5$$，保证数据随机。

小数据爆力，大数据随机。

一个策略是，先贪心地取使得两部分的差不超过2e5，留下最后$$25$$个元素进行调整。

另一个策略是，猜测其中一个取一个区间可行，多次随机删掉哪些，然后双指针检查。

随机题还是要坚定地认为乱搞能过的/hanx

-----

这题[有一个牛逼版本](https://www.luogu.com.cn/problem/P7703)是说，给一个序列，可以任选两个非空子集，让它们的和相等，值域达到1e18，还是随机生成的。

考虑我们排序之后把相邻两项合并，也就是用大的减去小的。这个操作会把每个位置的期望除一个$$n$$，并把$$n$$减半，$$n=5000$$时七次就可以把期望值减小到$$0.0268$$左右，也就是说每个数期望都会非常接近$$0$$，于是很大概率出现一个$$0$$。用链表维护每个数从哪里来，再搞上基排，复杂度是$$O(n)$$，当然这里认为$$v=n^{O(1)}$$。

看起来这个做法最多进行$$\lg n$$轮，此时$$v$$变成了$$\frac{v}{n^{\frac{\lg n-1}{2}}}$$，令它为$$O(1)$$则得到$$v=O(n^{\frac{\lg n-1}{2}})$$，这个已经超过了我们一般认为的$$v=n^{O(1)}$$。我不知道应该如何扩展这个方法使它能支持更大的$$v$$。

这个题应该成为 传世经典。

-----

C

给一棵树，有未知任意点权，你可以知道每个大小$$>k$$的子树除去根的点权和，也可以知道每个儿子个数$$\geq k$$的点的儿子点权和。现在你可以进行若干次操作，每次删掉一个叶子，删完之后你会得到这些点权和，求最多可以利用这些信息确定多少个点的点权。$$n\leq 10^5$$。

注意到一个点有兄弟，它就不可能被问出来，因为任何一次询问它们都同时出现。所以只有独子能被求出来。

现在对于每个独子，如果它的子树大小$$>k$$，那么可以用它的父亲的子树和减去它的子树和。

如果它的子树大小$$\leq k$$，它子树里的点就都不能确定了。一个特例是，如果它的子树大小是$$1$$，那么它说不定可以搞出来，方式是用爷爷的子树减去爷爷的所有儿子，再减去爷爷的所有其它子树。

所以一个点可以求出来，当且仅当

 - 是独子

 - 满足以下两个条件之一 : 

    - 子树大小$$>k$$

    - 是叶子，爷爷儿子个数$$\geq k$$，叔叔们要么子树大小$$>k$$，要么是叶子

然后呢?考虑一个dp，设$$dp(u,i)$$表示$$u$$子树保留$$i$$个点的答案。呃你发现其实没必要记$$i$$，因为叶子的$$dp$$值是$$0$$，所以$$dp$$
非$$0$$的点子树大小一定$$>k$$。

所以考虑转移。对于每个子树，如果它大小$$>k$$，那么可以只选这个子树。

如果要选一个叶子呢?首先需要保留$$k$$个儿子，然后你发现如果一个点$$dp$$值是$$0$$，不如直接把它删成叶子，否则就留下它。所以方法是留下一个只有一个叶子作为独子的儿子(有可能本来就是，也有可能是删一个$$dp$$值尽可能小的子树，这里只有删$$dp$$值为$$0$$的才有用)，然后把其它儿子加起来(有值的一定足够大，值为$$0$$的可以删成叶子)。

当然也可以什么都不做，这样就是把所有儿子的值加起来。

-----

D

签到题。

## Day3

简单题，但是C智障了，没能一眼看出来/cy

100+100+0+25=225。

-----

A

爆搜，签到题。

-----

B

法嘛塔求最大and/or，板子题。

-----

C

给一棵树，一开始有两个黑点，然后你每次可以把每个黑点旁边的一个黑点染黑(也可以不染)，注意每次操作是对每个黑点都做一次，问最少多少次可以把整棵树染黑。$$n\leq 10^5$$。

考虑如果只有一个黑点，直接dp，把儿子们按照$$dp$$值从大到小染黑就行了。

如果有两个，那么中间一定会在某个地方相撞，然后分成两部分。容易猜到单峰，三分这个点即可，不过可能会出现平的一段，此时可以向两侧倍增找到段的开头结尾。

更好的方法是二分，尽可能让两边的操作次数相同。

更好的方法是直接顺着，倒着分别扫一遍，然后枚举中点，瓶颈在于排序，可以vEB做到$$\log\log$$，但是更低我就不会了。

-----

D

码力题，没什么营养。

## Day4

100+100+100+0=300。奇怪。

-----

A

模板 法嘛塔，签到题。我多个$$n$$直接冲过了。

-----

B

模板 莫反，签到题。

-----

C

有趣题。有$$n$$个人排成一排要比赛，每次你选择**相邻**两个人比一比，输了的就溜了，现在给你任意两个人之间的胜负情况，求有多少人可以赢得最后的胜利。$$n\leq 2000$$。

考虑一个爆力dp，设$$dp(l,r,i)$$表示$$i$$能不能成为区间$$l,...,r$$的胜者，转移就枚举一个划分，看$$i$$是从哪边上来的，另一边就需要是一个$$i$$可以打败的人，可以用bitset优化做到$$O(n^5/w)$$。

考虑优化，你发现一个结论是，让$$i$$只打两场，一次干掉他左边的胜者，一次干掉他右边的胜者，这么做一定不劣。于是可以省去枚举划分，复杂度变为$$n^4/w$$。

你发现枚举一个$$i$$之后，我们要做的bitset操作就是把左半边和$$i$$能打败的人and起来，右半边也和$$i$$能打败的人and起来，然后看两边是否都有$$1$$。

你发现一个区间的$$dp$$值只会和左/右端点and起来，于是我们就能将这个and的次数降为$$n^2$$，此时转移复杂度从$$O(n/w)$$降为$$O(1)$$，一共是$$O(n^3)$$。

看一眼你就发现还可以用bitset批量转移，于是变成了$$O(n^3/w)$$。做完了。

空间很大，~~zroj忍一下~~ 需要滚。

-----

D

神题。给一张图，从每个点走到$$s$$，有一条未知边断了，只有你走到旁边才会发现它断了。求最优方案中，最坏情况下每个点到$$s$$的路程。$$n\leq 10^6,m\leq 2\times 10^6,w_i\leq 10^9$$。

考虑一定是你想走一条路径，然后这个路径冲到一半发现边断了，那就完蛋了，你只能走新的最短路。注意你一开始想走的这条路径不一定是最短路，因为从最短路中退出来可能会有巨大的花费。

我们把路径分成两段，一段是从起点$$u$$到发现边断了的时候所在的点$$v$$，一段是从$$v$$到$$s$$。容易想到先求后一段。

考虑如果我们断的不是$$v$$在最短路树上的父边，那么这条边断的毫无意义，本来要走最短路，结果现在最短路没有变。所以我们求出$$f(v)$$表示断掉$$v$$在最短路树上的父边之后$$v$$到$$s$$的最短路。

先假设我们算出来了这个东西，那么接下来我们考虑一条路径最优，当且仅当在路径上每一个点处断开，得到代价的最大值最小。考虑设$$dp(u)$$表示$$u$$出发的答案，那么有转移

$$
dp(u)=\min_{e=u\leftrightarrow v}\max(f(u),dp(v)+w(e))
$$

，这个看起来有点像最短路，直接猜测可以使用Dij求解即可，实际上这个完全就是一个最短路，只不过你在确定了一个点的最短路之后才能确定它邻边的边权。

现在问题是怎么算各$$f$$。

根据k短路的经典结论，断了一条边之后，只可能走一条非树边。所以每条非树边相当于是给它端点之间的树链加上了一个换边的选择，并且形式很简单，我们直接用树剖维护这个东西，就可以做到一个$$\log$$。时限极高(7s)，可以过掉。

更好的方法是排序之后变成在链上找到所有$$0$$并推平成$$1$$，可以用并查集维护，使用基排则瓶颈在Dij，可以用线性最短路来优化到线性/jy

## Day5(10.18)

100+100+3+0。C写麻了。

-----

A

签到题。

-----

B

签到题。

-----

C

签到题。基环树找环请用toposort。

-----

D

给一个图，求DAG生成子图个数。$$n\leq 18$$。

这是一道传世经典 清华集训2014 主旋律 的一个部分，而这个题收录于 子集反演。

## Day6

100+15+0+0=115。

非常牛逼。

-----

A

签到题。还是一个扫描线方向的问题。

-----

B

好玩题。给一张图，给边染成黑白，要求每个点的邻边中两种颜色的个数差不超过$$1$$。$$n,m\leq 10^6$$。

结论是，如果一个连通块所有点的度数都是偶数，但是有奇数条边，那么必然无解，否则可以直接跑 Mike and Fish 的欧拉回路，也就是在欧拉回路上交替染两种颜色。

为什么这就无解了?小朋友想一想，因为所有点度数都是偶数，那么每个点的两种颜色邻边数差必然是$$0$$，所以我们知道两种颜色的边数应该是相等的，所以总边数不应该是奇数。

为什么除此之外一定有解?加入虚点之后，所有点度数都是偶数，如果有奇数条边，我们从$$0$$开始跑会导致$$0$$的差是$$\pm 2$$，不过反正我们要把它删掉。如果有偶数条边则更简单。

-----

C

好玩题。给一棵树，点权，求每个点的 子树和到根路径的并 的补的线性基。$$n\leq 4\times 10^5,v<2^{61}$$。

考虑这个东西是什么，你发现我们dfs这棵树，在离开一个点的时候把它加入线性基。反着再dfs这棵树，在离开一个点的时候把它加入线性基。分别记录这两个东西，那么一个点的答案就可以用dfs到它时的两个线性基合并出来。

然后注意到一个很好玩的事情，这样dfs只有插入，而只插入得到的线性基只有$$\log v$$种，所以我们求出所有线性基，预处理它们两两的合并即可。总复杂度是$$O(n\log v+\log^4 v)$$。

有一个牛逼题是Ynoi2008 stcm，不过那个远强于这个。主要还是线性基不撤销的话信息变化总量只有$$\log v$$。

-----

D

好玩题。给一张图，一开始是空的，每次从一个区间每个点到另一个区间每个点连边，然后去掉所有重边和自环。求有多少种方式选择一些没有出现的边加入图中，使得每个点度数都是偶数。$$n\leq 10^5$$。

加边是矩形or，可以用扫描线线段树搞定，具体一点就是看成矩形$$+1$$，那么没有边就是$$0$$，而不会出现负的，所以可以线段树维护最小值及其个数。

把度数数组和边对度数的改变都看成向量。

考虑补图，每个连通块是独立的，而连通块内存在生成树，生成树是$$n-1$$维的，而度数也是$$n-1$$维的(有一维是没有用的，因为度数和必然是偶数)，所以不管别的边怎么选，都有唯一的方案操纵生成树使得最后得到全$$0$$。答案就是$$2^{c-(n-k)}$$，其中$$c$$是还剩的边数，$$k$$是连通块个数。

现在问题是怎么求连通块个数。简单想法是bitset爆力$$O(n^2/w)$$，大概冲不过去。

边数很大，查询方法只有扫描线线段树，于是考虑Boruvka~~别乳卡~~一类的算法。我们线段树每个点存所在连通块编号最小和最大的$$0$$，扫描线扫过去即可，这看起来真的很像 新年的繁荣 的Boruvka+法嘛塔做法。仍然一共需要跑$$\log$$轮，总复杂度$$O(n\log^2 n)$$。

看起来不是很能写。

## Day7

100+100+100+0=300。

-----

A

签到题。

-----

B

大原题 CF741C。

-----

C

简单dp题。dp优化一定要考虑清楚，写的时候要按照思考过程来写，不要追求小常数而导致混乱。

卡常的时候，滚动数组很有用。

-----

D

奇怪题。平面，你要从极左走到极右，你的方向是向右上或者右下，速度是$$\sqrt{2}$$，你可以随时改变方向。有$$n$$条竖线作为障碍，你不能碰到上面去(包括端点)，求有多少面积是你不能走的(走不进去，或者走了就不能到达对面的)。$$n,v\leq 10^5$$。

