---
layout: post
title: 扫描线方向
subtitle: 垂直屏幕向外扫描线
tags: 杂项
---

呃这个可能会用作讲稿?

大概就是收录一些奇怪的扫描线方向。

扫描线方向说的是，在解决一些有多个变量的问题的时候，我们先枚举哪一个，再枚举哪一个，每一层的枚举是从小到大还是从大到小这样的。一般将最外面那一个称为扫描线方向。

有些题的扫描线方向是简单的，有些是自然的，有些则违背直觉，第三种问题往往是非常有趣的。

-----

常见的扫描线方向

枚举扫描线方向，指的是尝试所有可能的扫描线方向。

序列问题可以在序列上扫描线。树上问题可以在dfs序上扫描线，DAG上问题可以在拓扑序上扫描线。

在值域上扫描线。这个常常不直觉，需要有枚举扫描线方向的意识。

在时间上扫描线。这个很自然，但是有时候会显得奇怪。

序列上的区间问题，可以选择扫左端点还是右端点，也可以选择从左往右还是从右往左扫。

高维空间中的问题，可以选择按照哪一维扫描线。实际上所有线性结构的问题都可以归结到高维空间中。

-----

AGC016F Games on DAG

给一个DAG，有两个棋子分别在$$1,2$$号点，Alice和Bob轮流沿有向边移动棋子，不能动就输了，求有多少生成子图使得Alice必胜。$$n\leq 15$$。

考虑这相当于$$1,2$$的SG值不同。转而计算相同的方案数，但是你发现SG值这东西不是很好做。

考虑在值域上扫描线，设$$dp(i,S)$$表示$$S$$中的点们SG值至少是$$i$$，外面的点SG值不超过$$i-1$$的生成子图个数，也就是说$$S$$中的每个点都连到了SG值是$$i-1,i-2,...,0$$的点。此时转移就是枚举SG值就是$$i$$的点集$$T$$，$$S-T$$中的点必须连到$$T$$中的至少一个点，于是复杂度就是枚举子集的复杂度$$O(3^n)$$。

-----

洛谷省选计划2021 R4T3

给一个棋盘，